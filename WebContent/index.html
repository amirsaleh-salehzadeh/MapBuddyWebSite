<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">

<title>Map Buddy</title>

<!-- Behavioral Meta Data -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" type="text/css"
	href="//fonts.googleapis.com/css?family=Ubuntu">
<link rel="stylesheet" type="text/css"
	href="//fonts.googleapis.com/css?family=Tangerine" />
<link rel="stylesheet"
	href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- Styles -->
<link rel="stylesheet"
	href="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.css">
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.js"></script>
<script
	src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
<script
	src="//s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin.min.js?r=1899"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="style.css" />
<script
	src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
</head>
<body>
	<div class="compass-logo"></div>
	<div id="mainBodyFrame">
		<div class="main-menu-buttons" style="width: 17%;">
			<div class="ui-block-solo">
				<object data="img/icons/features.svg" type="image/svg+xml"></object>
				<span>Features</span>
			</div>
			<div class="ui-block-solo">
				<object data="img/icons/solutions.svg" type="image/svg+xml"></object>
				<span>Industries</span>
			</div>
			<div class="ui-block-solo">
				<object data="img/icons/services.svg" type="image/svg+xml"></object>
				<span>Services</span>
			</div>
			<div class="ui-block-solo">
				<object data="img/icons/contact.svg" type="image/svg+xml"></object>
				<span>Contact Us</span>
			</div>
			<span class="title-logo">MAP BUDDY</span>
		</div>
		<div class="page-contents">
			<div id="features-page" class="a-page-content"></div>
			<div class="story-lines"></div>
		</div>
	</div>
</body>
<script type="text/javascript">
	$(document).ready(function() {
		var tmpAnimation = 0;
		$(".compass-logo").css({
			"width" : ($(window).height() - $("#mainBodyFrame").height()) * .9,
			"height" : ($(window).height() - $("#mainBodyFrame").height()) * .9
		})
		$(".compass-logo").load("img/maps/compass.svg", function() {
			$(".main-menu-buttons div").on("click", function() {
				$(".main-menu-buttons div.active").removeClass("active");
				$(this).addClass("active");
				var element = $(".compass-logo")
				tmpAnimation = tmpAnimation + 90;
				$({
					degrees : tmpAnimation - 90
				}).animate({
					degrees : tmpAnimation
				}, {
					duration : 1000,
					step : function(now) {
						element.css({
							transform : 'rotate(' + now + 'deg)'
						});
					}
				});
			})
		})
		$("#features-page").load("features.html")
	});
	function windowResized() {
		var transformTop = ($(window).height() - $("#mainBodyFrame").height())
		$("#mainBodyFrame").css({
			"transform" : "translate(0px, " + transformTop + "px)"
		})
		$(".page-contents")
				.css(
						{
							'margin-left' : $(".main-menu-buttons").width()
									+ (parseInt($(".main-menu-buttons").css(
											"padding")) * 2) + "px" /* 24 = drop shadow right + shadow*/
						})
		setTimeout(function() {
			$(".compass-logo").css({
				"left" : parseInt($("#mainBodyFrame").position().left) + 7,
				"top" : parseInt($(".main-menu-buttons").position().top) + 7
			})
		}, 100)
	}

	$(window).bind(
			"load",
			function() {
				windowResized()
				var items = [ {
					id : "Georeferencing",
					icon : "img/icons/locations.svg"
				}, {
					id : "Services",
					icon : "img/icons/tracking.svg"
				}, {
					id : "Interaction",
					icon : "img/icons/ar.svg"
				}, {
					id : "Technology",
					icon : "img/icons/cloud.svg"
				} ]
				$(".cachu__nav__item").each(
						function(l, k) {
							$(this).find("a").css("background-image",
									"url(" + items[l].icon + ")")
							$(this).find("span").html(items[l].id)
							// 			$(this).append("<div class='navigator-li-icon' style='width: 22px; height: 22px; background-image: url("+items[l].icon+")'></div>")
						})
			});

	$(window).bind("resize", function() {
		windowResized()
	});
</script>
</html>
